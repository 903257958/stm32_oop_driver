# STM32面向对象外设驱动

- 本项目为个人编写的一套STM32外设驱动集合，采用C语言实现“结构体+函数指针”的面向对象编程思想，可大幅度提高代码的模块化与可复用性；
- 当前仓库处于大规模重构阶段，部分驱动尚未完善，完成后将陆续更新。

## 注意事项

- 主要提供STM32F103C8T6与STM32F407VGT6标准库的测试例程；
- 驱动文件可无需修改直接移植，测试例程中F1系列与F4系列均使用统一的驱动代码；
- 你可以通过修改每个驱动文件的宏定义部分的代码，使其适配其他的MCU型号，甚至适配HAL库；
- 在移植驱动到不同型号的芯片后，参考我的main.h与main.c的代码，进行外设的定义与初始化，你可以自己定义外设的引脚与通信接口，使其适配你的开发板；
- 适配VSCode插件EIDE，如果不使用VSCode开发，"eide"文件夹可直接删除。

## 驱动列表

| 驱动模块             | 简要说明 |
|----------------------|----------|
| `xxx_adc`            | 多通道ADC采集 |
| `xxx_eeprom_i2c_sw`  | 软件I2C读写EEPROM（AT24C02） |
| `xxx_esp8266`        | （DEMO）ESP8266通过AT指令获取时间、天气等信息 |
| `xxx_fmc`            | 内部Flash读写 |
| `xxx_gpio`           | 基本GPIO输入输出操作 |
| `xxx_key`            | 按键输入 + 延时消抖 |
| `xxx_key_fifo`       | 按键 + 环形缓冲区 + 定时器中断扫描 + 定时器消抖 |
| `xxx_led_and_delay`  | LED 控制 + 基于SysTick/定时器的延时函数 |
| `xxx_ssd1306_i2c_sw` | 软件I2C驱动0.96寸OLED（SSD1306，128×64）|
| `xxx_timer_irq`      | 定时器中断使用 |
| `xxx_uart`           | 串口发送 + 空闲中断 + DMA 接收 |
| `xxx_w25qx_spi_hw`   | 硬件SPI读写外部Flash |
